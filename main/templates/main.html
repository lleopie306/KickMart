<h1>KickMart</h1>

<h5>NPM: </h5>
<p>{{ npm }}</p>

<h5>Name:</h5>
<p>{{ name }}</p>

<h5>Class:</h5>
<p>{{ class }}</p>

<a href="{% url 'main:create_product' %}">
  <button>+ Add Product</button>
</a>

<a href="{% url 'main:logout' %}">
  <button>Logout</button>
</a>
<h5>Sesi terakhir login: {{ last_login }}</h5>
<hr>

<a href="?filter=all">
    <button type="button">All Product</button>
</a>
<a href="?filter=my">
    <button type="button">My Product</button>
</a> 

{% if not product_list %}
<p>Belum ada data produk pada KickMart.</p>
{% else %}

{% for product in product_list %}
<div>
  <h2>
    <a href="{% url 'main:show_product' product.id %}">
      {{ product.name }}
    </a>
  </h2>

  <p>
    <b>{{ product.category|default:"Uncategorized" }}</b>
    {% if product.is_featured %} | <b>Featured</b>{% endif %}
    {% if product.brand %} | Brand: {{ product.brand }}{% endif %}
    {% if product.league %} | League: {{ product.league }}{% endif %}
    {% if product.club %} | Club: {{ product.club }}{% endif %}
    | Stock: {{ product.stock }}
    | Rating: {{ product.rating|floatformat:1 }}/5
  </p>

  {% if product.thumbnail %}
    <img src="{{ product.thumbnail }}" alt="thumbnail {{ product.name }}" width="150" height="100">
    <br />
  {% endif %}

  <p><b>Price:</b> Rp {{ product.price }}</p>

  <p>
    {% if product.size %}<b>Size:</b> {{ product.size }}{% endif %}
    {% if product.color %}{% if product.size %} | {% endif %}<b>Color:</b> {{ product.color }}{% endif %}
  </p>

  <p>{{ product.description|truncatewords:25 }}{% if product.description %}...{% endif %}</p>

  <p>
    <a href="{% url 'main:show_product' product.id %}">
      <button>View Detail</button>
    </a>
  </p>
</div>

<hr>
{% endfor %}

{% endif %}
